<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国美食记忆翻翻卡</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffcce6 0%, #c9e6ff 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            text-align: center;
        }
        
        h1 {
            color: #ff6b6b;
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 0px #ffda79;
        }
        
        h2 {
            color: #54a0ff;
            margin: 15px 0;
        }
        
        .intro {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #576574;
            line-height: 1.5;
        }
        
        /* 游戏控制区域 */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        button {
            background: #ff9ff3;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        button:hover {
            background: #f368e0;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        /* 游戏信息显示 */
        .game-info {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            font-size: 1.3rem;
            color: #54a0ff;
            font-weight: bold;
        }
        
        /* 卡片网格布局 */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 0 auto;
            max-width: 700px;
        }
        
        .memory-card {
            height: 130px;
            background: #ffda79;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            position: relative;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .memory-card.flip {
            transform: rotateY(180deg);
        }
        
        .memory-card .front-face,
        .memory-card .back-face {
            width: 100%;
            height: 100%;
            position: absolute;
            border-radius: 15px;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            object-fit: cover;
        }
        
        .memory-card .front-face {
            transform: rotateY(180deg);
            background: white;
            overflow: hidden;
        }
        
        .memory-card .front-face img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .memory-card .back-face {
            background: linear-gradient(45deg, #ff9ff3, #feca57);
            font-size: 3rem;
            color: white;
        }
        
        /* 排名区域 */
        .leaderboard {
            margin-top: 30px;
            background: #dfe6e9;
            border-radius: 20px;
            padding: 20px;
            width: 100%;
            max-width: 600px;
        }
        
        .leaderboard h2 {
            color: #ff6b6b;
            margin-bottom: 15px;
        }
        
        .leaderboard-list {
            list-style: none;
            text-align: left;
            font-size: 1.2rem;
        }
        
        .leaderboard-list li {
            padding: 10px;
            border-bottom: 1px dashed #aaa;
            display: flex;
            justify-content: space-between;
        }
        
        .leaderboard-list li:nth-child(odd) {
            background: rgba(255, 255, 255, 0.5);
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .memory-game {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .memory-card {
                height: 110px;
            }
        }
        
        @media (max-width: 480px) {
            .memory-game {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .memory-card {
                height: 100px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            button {
                padding: 10px 20px;
                font-size: 1rem;
            }
        }
        
        /* 动画效果 */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease-in-out;
        }
        
        /* 模态框样式 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        
        .modal h2 {
            color: #ff6b6b;
            margin-bottom: 20px;
        }
        
        .modal input {
            padding: 12px;
            font-size: 1.2rem;
            border: 2px solid #ffda79;
            border-radius: 10px;
            margin: 15px 0;
            width: 80%;
            text-align: center;
        }
        
        /* 食物标签 */
        .food-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px;
            font-size: 0.9rem;
            text-align: center;
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>中國美食記憶翻翻卡</h1>
        <p class="intro">這是一個記憶遊戲，找出相同的中國美食卡片進行配對！首先你有5秒時間記住所有卡片的位置，然後翻出相同的卡片完成配對。最快完成的前8名小朋友可以進入排行榜哦！</p>
        
        <div class="controls">
            <button id="start-btn"><i class="fas fa-play"></i> 開始遊戲</button>
            <button id="reset-btn"><i class="fas fa-redo"></i> 重新開始</button>
        </div>
        
        <div class="game-info">
            <div>時間: <span id="timer">0</span> 秒</div>
            <div>配對: <span id="matches">0</span>/8</div>
        </div>
        
        <div class="memory-game">
            <!-- 卡片将通过JavaScript动态生成 -->
        </div>
        
        <div class="leaderboard">
            <h2><i class="fas fa-trophy"></i> 排行榜</h2>
            <ol class="leaderboard-list" id="leaderboard">
                <li>1. 小明 - 45秒</li>
                <li>2. 小華 - 52秒</li>
                <li>3. 美美 - 58秒</li>
                <li>4. 寶寶 - 62秒</li>
                <li>5. 花花 - 65秒</li>
                <li>6. 豆豆 - 70秒</li>
                <li>7. 丁丁 - 75秒</li>
                <li>8. 樂樂 - 80秒</li>
            </ol>
        </div>
    </div>
    
    <div class="modal" id="name-modal">
        <div class="modal-content">
            <h2>恭喜你完成遊戲！</h2>
            <p>你用時 <span id="final-time">0</span> 秒</p>
            <p>請輸入你的名字加入排行榜：</p>
            <input type="text" id="player-name" maxlength="10" placeholder="你的名字">
            <button id="submit-btn"><i class="fas fa-check"></i> 提交</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 游戏数据
            const foodData = [
                { name: "北京拉麵", image: "https://resource.zhoudaosh.com/files/cimages/2019/20190621/ead5a04599aba35b4b1e6647214248f121175275.jpg!shoudaosh_img" },
                { name: "糖耳朵", image: "https://k.sinaimg.cn/n/sinakd10114/270/w640h430/20220629/1ffa-1d20869ad86aec24b39a02f7f8686f62.jpg/w700d1q75cms.jpg" },
                { name: "冰糖葫蘆", image: "https://downloads.ctfassets.net/pl05rcmbdryr/35ux6iYvZMz7uzdWpl83Iw/2a10234ce67ae9fbb0f30ef09d89e6b3/shutterstock_1277494621.jpg?w=1920&q=75&fm=webp" },
                { name: "開口笑", image: "https://imgproxy.icook.network/safe/rt:fit/w:1080/el:0/q:80/plain/http://tokyo-kitchen.icook.tw.s3.amazonaws.com/uploads/recipe/cover/327566/c9aa9fb416fa6e01.jpg" },
                { name: "刀削麵", image: "https://www.chinastarnews.com/wp-content/uploads/2020/04/360%E6%88%AA%E5%9B%BE20200406205359356.jpg" },
                { name: "狗不理包子", image: "https://i.epochtimes.com/assets/uploads/2021/03/id12843786-42ca4352aa-.jpg" },
                { name: "炸肉串", image: "https://wy-static.wenxiaobai.com/aigc-online/delogo_ea66fde7-1b39-41be-99e6-43851bfa548f.webp?ratioWH=0.6666666666666666&type=opt" },
                { name: "北京烤鴨", image: "https://omo-oss-image.thefastimg.com/portal-saas/new2023083010235964184/cms/image/2f72be64-badb-4836-a7b9-24681ed66a1c.jpg" }
            ];
            
            // 游戏变量
            let cards = [];
            let hasFlippedCard = false;
            let lockBoard = false;
            let firstCard, secondCard;
            let matchCount = 0;
            let gameStarted = false;
            let startTime;
            let timerInterval;
            
            // DOM元素
            const memoryGame = document.querySelector('.memory-game');
            const timerElement = document.getElementById('timer');
            const matchesElement = document.getElementById('matches');
            const startButton = document.getElementById('start-btn');
            const resetButton = document.getElementById('reset-btn');
            const nameModal = document.getElementById('name-modal');
            const finalTimeElement = document.getElementById('final-time');
            const playerNameInput = document.getElementById('player-name');
            const submitButton = document.getElementById('submit-btn');
            
            // 初始化游戏
            function initGame() {
                // 创建卡片数组（每张图片两次）
                cards = [];
                foodData.forEach((food, index) => {
                    cards.push({ id: index * 2, ...food });
                    cards.push({ id: index * 2 + 1, ...food });
                });
                
                // 洗牌算法
                shuffleCards();
                
                // 生成卡片HTML
                generateCards();
                
                // 重置游戏状态
                resetGame();
            }
            
            // 洗牌函数
            function shuffleCards() {
                for (let i = cards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [cards[i], cards[j]] = [cards[j], cards[i]];
                }
            }
            
            // 生成卡片HTML
            function generateCards() {
                memoryGame.innerHTML = '';
                cards.forEach(card => {
                    const cardElement = document.createElement('div');
                    cardElement.classList.add('memory-card');
                    cardElement.dataset.food = card.name;
                    
                    const frontFace = document.createElement('div');
                    frontFace.classList.add('front-face');
                    
                    const img = document.createElement('img');
                    img.src = card.image;
                    img.alt = card.name;
                    
                    const foodLabel = document.createElement('div');
                    foodLabel.classList.add('food-label');
                    foodLabel.textContent = card.name;
                    
                    frontFace.appendChild(img);
                    frontFace.appendChild(foodLabel);
                    
                    const backFace = document.createElement('div');
                    backFace.classList.add('back-face');
                    backFace.innerHTML = '<i class="fas fa-utensils"></i>';
                    
                    cardElement.appendChild(frontFace);
                    cardElement.appendChild(backFace);
                    
                    cardElement.addEventListener('click', flipCard);
                    memoryGame.appendChild(cardElement);
                });
            }
            
            // 翻转卡片
            function flipCard() {
                if (lockBoard) return;
                if (this === firstCard) return;
                if (!gameStarted) return;
                
                this.classList.add('flip');
                
                if (!hasFlippedCard) {
                    // 第一次点击
                    hasFlippedCard = true;
                    firstCard = this;
                    return;
                }
                
                // 第二次点击
                secondCard = this;
                checkForMatch();
            }
            
            // 检查匹配
            function checkForMatch() {
                let isMatch = firstCard.dataset.food === secondCard.dataset.food;
                
                if (isMatch) {
                    disableCards();
                    matchCount++;
                    matchesElement.textContent = matchCount;
                    
                    if (matchCount === 8) {
                        endGame();
                    }
                } else {
                    unflipCards();
                }
            }
            
            // 禁用已匹配的卡片
            function disableCards() {
                firstCard.removeEventListener('click', flipCard);
                secondCard.removeEventListener('click', flipCard);
                
                resetBoard();
            }
            
            // 翻回不匹配的卡片
            function unflipCards() {
                lockBoard = true;
                
                setTimeout(() => {
                    firstCard.classList.remove('flip');
                    secondCard.classList.remove('flip');
                    
                    resetBoard();
                }, 1000);
            }
            
            // 重置棋盘状态
            function resetBoard() {
                [hasFlippedCard, lockBoard] = [false, false];
                [firstCard, secondCard] = [null, null];
            }
            
            // 开始游戏
            function startGame() {
                // 显示所有卡片5秒
                const allCards = document.querySelectorAll('.memory-card');
                allCards.forEach(card => card.classList.add('flip'));
                
                setTimeout(() => {
                    allCards.forEach(card => card.classList.remove('flip'));
                    gameStarted = true;
                    startTimer();
                }, 5000);
                
                startButton.disabled = true;
            }
            
            // 开始计时器
            function startTimer() {
                startTime = new Date();
                timerInterval = setInterval(() => {
                    const currentTime = new Date();
                    const elapsedTime = Math.floor((currentTime - startTime) / 1000);
                    timerElement.textContent = elapsedTime;
                }, 1000);
            }
            
            // 结束游戏
            function endGame() {
                clearInterval(timerInterval);
                const endTime = new Date();
                const totalTime = Math.floor((endTime - startTime) / 1000);
                
                setTimeout(() => {
                    finalTimeElement.textContent = totalTime;
                    nameModal.style.display = 'flex';
                }, 1000);
            }
            
            // 重置游戏
            function resetGame() {
                // 重置卡片状态
                const allCards = document.querySelectorAll('.memory-card');
                allCards.forEach(card => {
                    card.classList.remove('flip');
                    card.addEventListener('click', flipCard);
                });
                
                // 重置游戏变量
                resetBoard();
                matchCount = 0;
                gameStarted = false;
                matchesElement.textContent = '0';
                timerElement.textContent = '0';
                
                // 清除计时器
                clearInterval(timerInterval);
                
                // 启用开始按钮
                startButton.disabled = false;
            }
            
            // 提交分数
            function submitScore() {
                const playerName = playerNameInput.value.trim() || '小玩家';
                const time = parseInt(finalTimeElement.textContent);
                
                // 这里可以添加将分数保存到排行榜的逻辑
                alert(`${playerName}，你的成績已記錄：${time}秒！`);
                
                // 关闭模态框
                nameModal.style.display = 'none';
                
                // 重置游戏
                initGame();
            }
            
            // 事件监听
            startButton.addEventListener('click', startGame);
            resetButton.addEventListener('click', initGame);
            submitButton.addEventListener('click', submitScore);
            
            // 初始化游戏
            initGame();
        });
    </script>
</body>
</html>

